

# -------- types

type WorkType {
    id: Int!
    img_url: URL!
    img_id: ID!
    category: WorkCategoryEnum!
    timestamp: DateTimeISO!
}

type WorkResponseType implements BaseMutationResponseInterface {
    code: Int!
    success: Boolean!
    message: String!
    data: [WorkType]!
    pagination: PaginationType
}

type PublicWorkType {
    img_url: URL!
    category: WorkCategoryEnum!
    timestamp: DateTimeISO!
}

type PublicWorkResponseType implements BaseMutationResponseInterface {
    code: Int!
    success: Boolean!
    message: String!
    data: [PublicWorkType]!
    pagination: PaginationType
}

# -------- query

extend type Query {
    work(id: ID!): WorkResponseType! @auth(role: ADMIN)
    works(
        ids: [ID], 
        filter: JSONObject,
        pagination: PaginationInput
        sort: SortInput    
    ): WorkResponseType! @auth(role: ADMIN)
}


# -------- mutation

extend type Mutation {
    updateWork(id: ID!, data: WorkUpdateInput): WorkResponseType! @auth(role: ADMIN)
    updateManyWorks(ids: [ID]!, data: WorkUpdateInput): WorkResponseType! @auth(role: ADMIN)
    deleteWork(id: ID!): WorkResponseType! @auth(role: ADMIN)
    deleteManyWorks(ids: [ID]!): WorkResponseType! @auth(role: ADMIN)
    createWork(data: WorkCreateInput): WorkResponseType! @auth(role: ADMIN)
}


# -------- inputs

input WorkCreateInput {
    img_id: ID!
    img_url: URL!
    category: WorkCategoryEnum!
    timestamp: DateTimeISO!
}

input WorkUpdateInput {
    img_id: ID
    img_url: URL
    category: WorkCategoryEnum
    timestamp: DateTimeISO
}


# -------- enums

enum WorkCategoryEnum {
    ASSEMBLING
    MOUNTING
    PLUMBING
}