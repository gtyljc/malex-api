
# -------- query

extend type Query {
    siteConfig(id: ID!): SiteConfigResponseType! @auth(role: ADMIN)
    contactData: SiteConfigResponseType! @auth(role: USER)
}

extend type Mutation {
    updateSiteConfig(id: ID!, data: SiteConfigUpdateInput): SiteConfigResponseType! @auth(role: ADMIN)
}


# --------  types

type SiteConfigType {
    id: ID!
    opening_at: DateTimeISO!
    closing_at: DateTimeISO!
    min_duration: PositiveFloat!
    support_email: EmailAddress!
    phone_number: PhoneNumber!
}

type SiteConfigResponseType implements BaseMutationResponseInterface {
    code: Int!
    success: Boolean!
    message: String!
    data: [SiteConfigType]!
}

type ContactDataType {
    opening_at: DateTimeISO!
    closing_at: DateTimeISO!
    support_email: EmailAddress!
    phone_number: PhoneNumber!
    min_duration: PositiveFloat!
}

type ContactDataResponseType implements BaseMutationResponseInterface {
    code: Int!
    success: Boolean!
    message: String!
    data: [ContactDataType]!
}


# --------  inputs

input SiteConfigUpdateInput {
    id: ID
    opening_at: DateTimeISO
    closing_at: DateTimeISO
    min_duration: PositiveFloat
    support_email: EmailAddress
    phone_number: PhoneNumber
}
