
"""
    Public scalars, types, interfaces, enums...
"""

# -------- scalars

scalar JSONObject
scalar URL
scalar PhoneNumber
scalar DateTimeISO
scalar PositiveInt
scalar PositiveFloat
scalar EmailAddress


# -------- to extend

directive @auth(role: RoleEnum = ADMIN) on FIELD_DEFINITION


# -------- to extend

type Query

type Mutation {
    startImageUpload(id: ID!): StartUploadImageResponseType!
    finalizeImageUpload(id: ID!): FinalizeUploudImageResponseType!
}


# -------- interfaces

interface BaseMutationResponseInterface {
    """
        All mutation responses must include data field
        with a type of modified entity ( always represents an array )
    """

    code: Int!
    message: String!
    success: Boolean!
}


# -------- types

type StartUploadImageType { 
    id: ID!
    url: URL!
}

type FinalizeUploadImageType {
    id: ID!
    url: URL!
}

type StartUploadImageResponseType implements BaseMutationResponseInterface {
    code: String!
    message: String!
    success: Boolean!
    data: StartUploadImageType
}

type FinalizeUploudImageResponseType implements BaseMutationResponseInterface {
    code: String!
    message: String!
    success: Boolean!
    data: FinalizeUploadImageType
}

type PaginationType {
    total: Int!
    pageInfo: PageInfoType!
}


type PageInfoType {
    hasNextPage: Boolean!
    hasPreviousPage: Boolean!
}


# -------- enums

enum OrderEnum {
    ASC
    DESC
}

enum RoleEnum {
    ADMIN
    USER
}


# -------- inputs

input PaginationInput {
    perPage: PositiveInt!
    page: PositiveInt!
}

input SortInput {
    field: String!
    order: OrderEnum!
}